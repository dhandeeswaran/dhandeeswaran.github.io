{"version":3,"sources":["./src/environments/environment.ts","./src/app/drawPOC/drawing.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/drawPOC/drawing/drawing.component.ts","./src/app/drawPOC/drawing/drawing.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAA2C;;;AAOpC,MAAM,cAAc;IAEzB,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;IAAG,CAAC;IAEvC,SAAS,CAAC,IAAQ;QAChB,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,6DAA6D,EAAE,IAAI,CAAC;IACjG,CAAC;IAED,QAAQ,CAAC,IAAQ,EAAE,EAAM;QACvB,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,6DAA6D,GAAC,EAAE,EAAE,IAAI,CAAC;IACnG,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,6DAA6D,CAAC;IAC1F,CAAC;IAED,WAAW,CAAC,EAAM;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAM,6DAA6D,GAAC,EAAE,CAAC;IAChG,CAAC;;4EApBU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;6FAEP,cAAc;cAH1B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAA0C;;;AAOnC,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,UAAU,CAAC;KACpB;;wEAFY,YAAY;4FAAZ,YAAY;QCPzB,yEAA2B;;6FDOd,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACC;AACH;AACT;AACgC;AACR;AAEf;AACU;AACG;AACR;AACN;AACE;AACF;AACS;AACL;AACA;AACO;AACT;AACI;AACF;AACN;;AAiC9C,MAAM,SAAS;;wFAAT,SAAS,cAHR,2DAAY;4IAGb,SAAS,mBALT,EAAE,YArBJ;YACP,uEAAa;YACb,oEAAgB;YAChB,4FAAuB;YACvB,qEAAgB;YAChB,0DAAW;YACX,kEAAmB;YACnB,kFAAiB;YACjB,0EAAgB;YAChB,qEAAa;YACb,uEAAc;YACd,qEAAa;YACb,8EAAiB;YACjB,yEAAe;YACf,yEAAe;YACf,gFAAkB;YAClB,uEAAc;YACd,2EAAgB;YAChB,2EAAgB;YAChB,qEAAa;SACd;mIAMU,SAAS,mBA7BlB,2DAAY;QACZ,mFAAgB,aAGhB,uEAAa;QACb,oEAAgB;QAChB,4FAAuB;QACvB,qEAAgB;QAChB,0DAAW;QACX,kEAAmB;QACnB,kFAAiB;QACjB,0EAAgB;QAChB,qEAAa;QACb,uEAAc;QACd,qEAAa;QACb,8EAAiB;QACjB,yEAAe;QACf,yEAAe;QACf,gFAAkB;QAClB,uEAAc;QACd,2EAAgB;QAChB,2EAAgB;QAChB,qEAAa;6FAOJ,SAAS;cA/BrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;oBACZ,mFAAgB;iBACjB;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,oEAAgB;oBAChB,4FAAuB;oBACvB,qEAAgB;oBAChB,0DAAW;oBACX,kEAAmB;oBACnB,kFAAiB;oBACjB,0EAAgB;oBAChB,qEAAa;oBACb,uEAAc;oBACd,qEAAa;oBACb,8EAAiB;oBACjB,yEAAe;oBACf,yEAAe;oBACf,gFAAkB;oBAClB,uEAAc;oBACd,2EAAgB;oBAChB,2EAAgB;oBAChB,qEAAa;iBACd;gBACD,SAAS,EAAE,EAAE;gBACb,OAAO,EAAE,CAAC,8DAAgB,CAAC;gBAC3B,SAAS,EAAE,CAAC,2DAAY,CAAC;aAE1B;;;;;;;;;;;;;;ACrDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsG;AAY3D;AACZ;AACkD;;;;;;;;;;;;;;;;ICoE3E,sEAAqB;IAAA,uDAAwB;IAAA,4DAAM;;;IAA9B,0DAAwB;IAAxB,qGAAwB;;;IASnC,uEACE;IAAA,wEAA2E;IAC7E,4DAAO;;;;IAD4B,0DAA+B;IAA/B,+FAA+B;IAAvD,uFAAuB;;;IAElC,uEACE;IAAA,wEAAqE;IACvE,4DAAO;;;;IADsB,0DAA+B;IAA/B,+FAA+B;IAAjD,iFAAiB;;;IAE5B,uEACE;IAAA,wEAA0E;IAC5E,4DAAO;;;;IAD2B,0DAA+B;IAA/B,+FAA+B;IAAtD,sFAAsB;;;IAEjC,uEACE;IAAA,wEAAyE;IAC3E,4DAAO;;;;IAD0B,0DAA+B;IAA/B,+FAA+B;IAArD,qFAAqB;;;IAEhC,uEACE;IAAA,wEAAyE;IAC3E,4DAAO;;;;IAD0B,0DAA+B;IAA/B,gGAA+B;IAArD,sFAAqB;;;IAEhC,uEACE;IAAA,wEAAwE;IAC1E,4DAAO;;;;IADyB,0DAA+B;IAA/B,gGAA+B;IAApD,qFAAoB;;;;IAnBnC,2EACE;IAAA,oFACE;IADa,qYAAmC;IAChD,uEAAO;IAAA,uDAAK;IAAA,4DAAO;IACnB,uIACE;IAEF,uIACE;IAEF,uIACE;IAEF,uIACE;IAEF,uIACE;IAEF,uIACE;IAEF,sEACE;IACA,sEAAI;IAAA,wDAA6B;IAAA,4DAAK;IACtC,sEAAI;IAAA,wDAA0B;IAAA,4DAAK;IACrC,4DAAK;IACL,8EAEE;IADA,8XAAkC;IAClC,0EAA2D;IAC7D,4DAAS;IAGX,4DAAgB;IAChB,0EAA2B;IAC7B,4DAAW;;;;IAhCA,0DAAK;IAAL,+EAAK;IACN,0DAAkC;IAAlC,sGAAkC;IAGlC,0DAAoC;IAApC,wGAAoC;IAGpC,0DAAsC;IAAtC,0GAAsC;IAGtC,0DAAmC;IAAnC,uGAAmC;IAGnC,0DAAoC;IAApC,wGAAoC;IAGpC,0DAAoC;IAApC,wGAAoC;IAKpC,0DAA6B;IAA7B,6GAA6B;IAC7B,0DAA0B;IAA1B,0GAA0B;IAIrB,0DAAmB;IAAnB,mFAAmB;;;IA9BtC,0EACE;IAAA,2EACE;IAAA,sIACE;IAkCJ,4DAAW;IACb,4DAAM;;;IApCQ,0DAAwC;IAAxC,mFAAwC;;;IAHxD,sEACE;IAAA,oHACE;IAsCJ,4DAAM;;;IAvCgB,0DAA2B;IAA3B,4FAA2B;;AD9DhD,MAAM,gBAAgB;IAwE3B,YAAmB,OAAuB,EAAU,EAAe;QAAhD,YAAO,GAAP,OAAO,CAAgB;QAAU,OAAE,GAAF,EAAE,CAAa;QAnEnE,cAAS,GAAW,EAAE,CAAC;QACvB,gBAAW,GAAW,CAAC,CAAC;QACxB,gBAAW,GAAW,CAAC,CAAC;QACxB,cAAS,GAAW,CAAC,CAAC;QACtB,cAAS,GAAW,CAAC,CAAC;QAEtB,gCAAgC;QAChC,oBAAe,GAAQ,EAAE;QACzB,oBAAe,GAAY,KAAK,CAAC;QACjC,iBAAY,GAAQ,EAAE,CAAC;QACvB,aAAQ,GAAQ,EAAE,CAAC;QACnB,4BAAuB,GAAQ,EAAE,CAAC;QAGlC,aAAQ,GAAe,EAAE,CAAC;QAK1B,mBAAc,GAAY,KAAK,CAAC;QAKhC,gBAAW,GAAW,KAAK,CAAC;QAG5B,cAAS,GAAG,EAAE,CAAC;QAEf,gBAAW,GAAiB;YAC1B,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,CAAC;YACT,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;YACP,MAAM,EAAE,EAAE;YACV,WAAW,EAAE,CAAC;YACd,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,EAAE;YACP,MAAM,EAAE,CAAC;YACT,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,CAAC;YACR,IAAI,EAAE,EAAE;SAET,CAAC;QAEF,UAAU;QACV,mBAAc,GAAG,gFAAc,CAAC;QAChC,aAAQ,GAAG,0EAAQ,CAAC;QACpB,kBAAa,GAAG,+EAAa,CAAC;QAC9B,iBAAY,GAAG,8EAAY,CAAC;QAC5B,WAAM,GAAG,wEAAM,CAAC;QAChB,iBAAY,GAAG,8EAAY,CAAC;QAC5B,gBAAW,GAAG,6EAAW,CAAC;QAC1B,eAAU,GAAG,4EAAU;QAEvB,SAAS;QACT,mBAAc,GAAG,KAAK,CAAC;QACvB,mBAAc,GAAG,KAAK,CAAC;QACvB,cAAS,GAAG,CAAC;QACb,cAAS,GAAG,GAAG;QACf,eAAU,GAAG,CAAC;QACd,gBAAW,GAAG,CAAC;QACf,kBAAa,GAAG,CAAC,CAAC;QAClB,oBAAe,GAAG,GAAG,CAAC;IAGiD,CAAC;IAExE,WAAW;QACT,IAAI,CAAC,WAAW,GAAG,IAAI,wDAAS,CAAC;YAC/B,WAAW,EAAE,IAAI,0DAAW,EAAE;SAE/B,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,EAAE,CAAC;IAErB,CAAC;IAED,SAAS,CAAC,KAAK;QACb,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;IAC3B,CAAC;IACD,YAAY,CAAC,KAAK;QAChB,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC;IACrC,CAAC;IAED,eAAe;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,mBAAmB;QACnB,oBAAoB;QACpB,sBAAsB;QACtB,kEAAkE;QAClE,0DAA0D;QAC1D,yEAAyE;IAC3E,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG;YACjB,KAAK,EAAE;gBACL,KAAK,EAAE,4CAA4C;gBACnD,GAAG,EAAE,0EAA0E;gBAC/E,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,KAAK;gBACf,IAAI,EAAE;oBACJ,MAAM,EAAE,MAAM;oBACd,KAAK,EAAE,MAAM;iBACd;aACF;SACF,CAAC;QACF,IAAI,CAAC,WAAW,GAAG;YACjB,UAAU,EAAE,yCAAyC;YACrD,KAAK,EAAE,gFAAgF;YACvF,QAAQ,EAAE,IAAI;YACd,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,CAAC,wCAAwC,CAAC;YACrD,UAAU,EAAE,0BAA0B;YACtC,OAAO,EAAE,CAAC;oBACR,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC;SAEH,CAAC;QACF,MAAM,WAAW,GAAG;YAClB,KAAK,EAAE;gBACL,KAAK,EAAE,4CAA4C;gBACnD,GAAG,EAAE,6DAA6D;gBAClE,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,KAAK;gBACf,IAAI,EAAE;oBACJ,KAAK,EAAE,OAAO;oBACd,MAAM,EAAE,OAAO;iBAChB;aAEF;SACF,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,MAAM,GAAG;YACX,IAAI,EAAE,OAAO;YACb,GAAG,EAAE,0EAA0E;SAChF;QACD,IAAI,MAAM,GAAG;YACX,IAAI,EAAE,OAAO;YACb,GAAG,EAAE,gFAAgF;SACtF;QAED,IAAI,MAAM,GAAG;YACX,IAAI,EAAE,OAAO;YACb,GAAG,EAAE,yEAAyE;SAC/E;QAGD,IAAI,CAAC,MAAM,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC;YACrC,EAAE,EAAE,sBAAsB;YAC1B,YAAY,EAAE,CAAC;YACf,gEAAgE;YAChE,uDAAuD;YACvD,WAAW,EAAE;gBACX;oBACE,UAAU,EAAE,MAAM;oBAClB,KAAK,EAAE,CAAC;oBACR,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBAChD,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,CAAC;iBACL;aAcF;YACD,wBAAwB;YACxB,0BAA0B;YAC1B,2BAA2B;YAC3B,oCAAoC;YAEpC,SAAS,EAAE,IAAI;YACf,yBAAyB;YACzB,uBAAuB;YACvB,eAAe;YACf,6BAA6B;YAC7B,gCAAgC;YAChC,4BAA4B;YAC5B,8BAA8B;YAC9B,6BAA6B;YAC7B,qCAAqC;YACrC,iBAAiB,EAAE,KAAK;YACxB,oBAAoB,EAAE;gBACpB,WAAW,EAAE,IAAI;aAClB;SAWF,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC;QAChF,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED,gBAAgB,CAAC,QAAQ;QACvB,IAAI,IAAI,EAAE,GAAG,EAAE,aAAa,CAAC;QAC7B,0DAA0D;QAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YACzD,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACtC,GAAG,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YACvB,0DAA0D;YAC1D,aAAa,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SAE7C;QAED,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,EAAE,aAAa,CAAC;IAEjD,CAAC;IAEO,YAAY,CAAC,KAAK;QACxB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC;IACpC,CAAC;IAED,aAAa,CAAC,KAAiB;QAC7B,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YACpD,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACtG,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;YAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvD,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC;gBAC/D,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACzG,8BAA8B;aAE/B;SAEF;QAED,+CAA+C;QAC/C,0DAA0D;QAC1D,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC;QAEjC,eAAe;QACf,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC;QAC/E,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QAChD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;QACpF,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ;QAC3B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAM,IAAI,OAAO,CAAC,CAAC,GAAG,KAAK,OAAO,EAAC,CAAC,CAAC,CAAC;QAClF,IAAI,IAAI,CAAC,QAAQ,KAAK,EAAE,EAAE;YACxB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC;YAC1C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC;SAC9C;QACD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC;QACzD,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI;SACzC;QACD,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC;QACvD,IAAI,IAAI,CAAC,SAAS,KAAK,UAAU,EAAE;YACjC,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACxD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACjD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;YACzD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,uBAAuB,CAAC;YAC1E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,WAAW,CAAC;SACpE;QACD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC;QAC5F,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC;SACvC;IAEH,CAAC;IAID,aAAa,CAAC,IAAS;QACrB,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC/D,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YACnC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YACrC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;YAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;YACjC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;YACjC,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW;YAC/C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YACrC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;YAC9B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YACrC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YACrC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;YACjC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YACnC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;SAClC;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAC7B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC;SAC5C;aACI;YACH,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;SAC5B;IACH,CAAC;IAED,mBAAmB,CAAC,KAAiB;QACnC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,SAAS,KAAK,UAAU,EAAE;YACjC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC3D,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC;YACpC,IAAI,CAAC,SAAS,GAAG,IAAI;SACtB;QACD,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAkB,EAAE;YACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,WAAW,CAAC;YACpF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAC9B,iDAAiD;YACjD,0DAA0D;YAC1D,4BAA4B;YAC5B,+BAA+B;YAC/B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,uBAAuB,CAAC;YACzD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC;YACxD,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;gBACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACnC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;aACzB;YACD,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;SACnC;IAEH,CAAC;IAED,yCAAyC;IACzC,YAAY,CAAC,KAAiB;QAC5B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC;QAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE;YAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzD,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;gBAC/D,qBAAqB;gBACrB,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC;gBACtC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBAClE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aACvF;YACD,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBAC/B,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;aAC3E;YACD,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC;aAC7E;SACF;IACH,CAAC;IAED,uCAAuC;IACvC,UAAU,CAAC,KAAiB;QAC1B,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,SAAS,CAAC;QACrD,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,UAAU,CAAC;QACvD,IAAI,KAAK,CAAC,MAAM,KAAK,SAAS,EAAE;YAC9B,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACrC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,MAAM,CAAC;SAC1C;QACD,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE;YAC/B,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBAC1J,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;iBACzE;gBACD,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,uDAAuD;oBAEvD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oBACzC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;oBAClC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBACnC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;iBACzB;gBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,EAAE;gBAClC,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBACxD,IAAI,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC;gBAC3B,IAAI,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC;gBAChF,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oBACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBACnC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;iBACzB;aACF;SAEF;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,yCAAyC;IACzC,YAAY,CAAC,KAAiB;QAC5B,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE;YAC/B,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,2EAA2E;SAC5E;QACD,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE;YAC/B,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,IAAI,CAAC,eAAe,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;gBAC1F,8EAA8E;gBAC9E,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC/D,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;wBACjB,IAAI,EAAE,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;wBACvE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;wBACtE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC;wBAChD,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC;qBAClD,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC;oBACpC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAClD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;iBAC/B;gBACD,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;oBAC/B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;wBACjB,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC;qBAClD,CAAC;oBACF,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC;oBACjD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;iBAC/B;aAEF;SACF;IACH,CAAC;IAED,SAAS,CAAC,WAAgB;QACxB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,qDAAM,EAAE,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;QAC7B,sBAAsB;QACtB,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,WAAW,KAAK,QAAQ,EAAE;YAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ;YACzB,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC;YAClD,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,QAAQ;YAC9B,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;YACnD,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;SACvC;QAED,IAAI,WAAW,KAAK,aAAa,EAAE;YACjC,2CAA2C;YAC3C,IAAI,QAAQ,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC;gBACpC,IAAI,EAAE,GAAG;gBACT,GAAG,EAAE,GAAG;gBACR,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;aACrC,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;SAC7C;IAEH,CAAC;IAED,oBAAoB,CAAC,CAAU,EAAE,CAAU,EAAE,CAAU,EAAE,CAAU,EAAE,KAAc,EAAE,KAAc;QACjG,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC;YAC/B,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC7B,WAAW,EAAE,CAAC;YACd,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACxB,WAAW,EAAE,OAAO;YACpB,UAAU,EAAE,CAAC;YACb,kBAAkB,EAAE,KAAK;SAC1B,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,YAAY,CAAC,CAAU,EAAE,CAAU,EAAE,CAAU,EAAE,KAAc;QAC7D,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC;YACjC,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC7B,WAAW,EAAE,EAAE;YACf,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAExC,CAAC;IAED,cAAc,CAAC,MAAkB,EAAE,KAAc;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC3C,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ;YAChC,WAAW,EAAE,CAAC;SACf,CAAC;QACF,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAkB,EAAE;YACzC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,yCAAyC;YACzC,iCAAiC;YACjC,mDAAmD;SACpD;QACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAEhC,CAAC;IAED,cAAc,CAAC,MAAkB,EAAE,KAAc;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC3C,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ;YAChC,WAAW,EAAE,CAAC;SACf,CAAC;QACF,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAkB,EAAE;YACzC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,EAAE;YACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChD,IAAI,CAAC,SAAS,GAAG,QAAQ;YACzB,yCAAyC;YACzC,iCAAiC;SAClC;QACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAEhC,CAAC;IAED,QAAQ;QACN,MAAM,IAAI,GAAG,CAAC,GAAG,EAAE,iBAAiB,EAAE,OAAO,CAAC;QAC9C,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE;YACrC,WAAW,EAAE,CAAC;YACd,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,OAAO;YACb,UAAU,EAAE,KAAK;YACjB,gBAAgB,EAAE,KAAK;SACxB,CAAC,CAAC;QACH,uBAAuB;QACvB,oBAAoB;QACpB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,YAAY,CAAC,MAAkB,EAAE,CAAU,EAAE,CAAU;QACrD,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC3C,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,QAAQ;YAChB,WAAW,EAAE,CAAC;YACd,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;YAClB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;SAClB,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxC,CAAC;IAED,UAAU;QACR,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,UAAU;IACnE,CAAC;IAED,UAAU,CAAC,OAAY,EAAE,KAAa;QACpC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE;QACpD,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACpE,sCAAsC;QACtC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,EAAE;QAC5B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,GAAG;QAC3B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI;QAC7B,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,EAAG,4BAA4B;QAC9D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACtE,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QACtC,wDAAwD;QACxD,wDAAwD;QACxD,mCAAmC;QACnC,mCAAmC;QACnC,8BAA8B;QAC9B,gEAAgE;QAChE,wCAAwC;QACxC,wCAAwC;QACxC,gDAAgD;QAChD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,IAAI,CAAC,QAAa;QAChB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAC7C,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC,CAAC;YAC/B,IAAI,CAAC,EAAE;gBACL,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACtC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,OAAO,CAAC;YACpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;oBAEnC,sKAAsK;oBACtK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;oBAC1B,0BAA0B;oBAC1B,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBAC9G;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;oBACpC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBAClE,oFAAoF;iBACrF;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,UAAU,EAAE;oBACvC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBAClE,oFAAoF;iBACrF;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACrC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBACxG,oFAAoF;iBACrF;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACrC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBAChE,oFAAoF;iBACrF;aAEF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,GAAG,CAAC,SAAc,EAAE,EAAU;QAC5B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACjD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACzD,CAAC;IAED,aAAa,CAAC,MAAW,EAAE,KAAc;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC3C,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC7B,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,CAAC;YACV,WAAW,EAAE,CAAC;YACd,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,KAAK;YACd,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,UAAU,CAAC,CAAS,EAAE,CAAS,EAAE,IAAY,EAAE,KAAa;QAC1D,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO;QAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE;YACrC,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC3B,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC7B,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,CAAC;YACb,qBAAqB;YACrB,oBAAoB;SACrB,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAGD,SAAS,CAAC,KAAa,EAAE,KAAa,EAAE,GAAW,EAAE,GAAW,EAAE,KAAa;QAC7E,OAAO,CAAC,GAAG,CAAC,UAAU,CAAE;QACxB,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;QACtD,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,GAAG,GAAG,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACnD,GAAG,GAAG,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,MAAM,GAAG;YACX;gBACE,CAAC,EAAE,KAAK;gBACR,CAAC,EAAE,KAAK;aACT;YACD;gBACE,CAAC,EAAE,KAAK,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnE,CAAC,EAAE,KAAK,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aACpE;YACD;gBACE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBACjE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aAClE;YAED;gBACE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC7D,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aAC9D;YAED;gBACE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;gBAC/C,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;aAChD;YAED;gBACE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC7D,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aAC9D;YACD;gBACE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBACjE,CAAC,EAAE,GAAG,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aAClE;YACD;gBACE,CAAC,EAAE,KAAK,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnE,CAAC,EAAE,KAAK,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;aACpE;YACD;gBACE,CAAC,EAAE,KAAK;gBACR,CAAC,EAAE,KAAK;aACT;SACF,CAAC;QAEF,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC3C,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC3B,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK;YAC7B,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,CAAC;YACV,WAAW,EAAE,CAAC;YACd,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,KAAK;YACd,UAAU,EAAE,IAAI;YAChB,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,qDAAM,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,GAAG,CAAC,KAAU;QACZ,0BAA0B;QAC1B,mDAAmD;QACnD,+DAA+D;QAC/D,kGAAkG;QAClG,2DAA2D;QAC3D,gEAAgE;QAChE,2CAA2C;QAC3C,MAAM;IACR,CAAC;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,KAAU;YACxD,KAAK,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,KAAU;YACxD,KAAK,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAErC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,KAAU;QAC1B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,KAAK;IAChC,CAAC;IAED,UAAU,CAAC,IAAY;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI;QAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,MAAM,CAAC,EAAU,EAAE,KAAa;QAC9B,qEAAqE;QACrE,IAAI,GAAG,CAAC;QACR,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAE,KAAK,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,GAAG,EAAE;gBACP,GAAG,GAAG,GAAG,CAAC;gBACV,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC;gBAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;QAEH,CAAC,CAAC,CAAC;QACH,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE;QACtD,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,YAAY,CAAC;QACvC,iCAAiC;QACjC,IAAI,OAAO,CAAC,eAAe,CAAC,EAAE;YAC5B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,EAAE,UAAU,CAAC;QAClB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAC7C,IAAI,SAAS,CAAC;QACd,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,UAAU,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;YACjE,MAAM,WAAW,GAAG,UAAU,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;YACtE,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC5C,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;SACpC;IAEH,CAAC;IAED,eAAe;QACb,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO;QAC9B,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC;QAC7E,oDAAoD;QACpD,iFAAiF;QAEjF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,iCAAiC;YAChF,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;gBAClC,IAAI,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACtL,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC;aAC/I;SACF;IAEH,CAAC;IAED,YAAY;QACV,0FAA0F;QAC1F,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,eAAe,EAAE,CAAC;QACzB,CAAC,EAAE,GAAG,CAAC,CAAC;QAIR,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC;YACvD,OAAO,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC;QAC7B,6BAA6B;QAC7B,mCAAmC;QACnC,iBAAiB;QACjB,4BAA4B;QAC5B,2BAA2B;QAC3B,eAAe;QACf,gBAAgB;QAChB,aAAa;QACb,mBAAmB;QACnB,mBAAmB;QACnB,2BAA2B;QAC3B,MAAM;QACN,kCAAkC;QAElC,iCAAiC;QAGjC,8CAA8C;QAC9C,2DAA2D;QAC3D,qCAAqC;QACrC,mDAAmD;QACnD,IAAI;QACJ,aAAa;QAEb,IAAI,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC1M,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QACrE,gHAAgH;QAChH,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE,CAAC;QACnF,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;QACnE,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACvD,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;QACvD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;QAC7B,iFAAiF;QACjF,+DAA+D;QAE/D,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;QAC/C,IAAI,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAEhB,wDAAwD;QACxD,wGAAwG;QACxG,qCAAqC;QACrC,kDAAkD;QAClD,0DAA0D;QAC1D,6CAA6C;QAC7C,eAAe;QACf,4BAA4B;QAC5B,2BAA2B;QAC3B,wBAAwB;QACxB,MAAM;QACN,uBAAuB;QACvB,+BAA+B;QAC/B,2BAA2B;QAC3B,8BAA8B;QAC9B,MAAM;QAGN;;;;;;;;;;;;;;uCAc+B;QAE/B,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC;IAErC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,wBAAwB;QACxB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QAElD;;;;;;qDAM6C;IAC/C,CAAC;IAED,WAAW;QACT,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;YAC3D,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,GAAG;YACT,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,QAAQ;YACjB,KAAK,EAAE,EAAE;SACV,CAAC,CAAC;QACH,qBAAqB;QACrB,0CAA0C;QAC1C,KAAK,CAAC,SAAS,EAAE,CAAC;QAClB,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,aAAa;IACb,UAAU,CAAC,IAAS;QAClB,IAAI,IAAI;QACR,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC;QACrE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO;QAChE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,EAAE,UAAU,GAAG;YAChD,mEAAmE;YACnE,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC;YACtC,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,YAAY,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;YAC5E,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;gBACjB,2CAA2C;aAC5C;YACD,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI;YACpB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACpC,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACb,uBAAuB;QACzB,CAAC,CAAC;IAGJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,GAAG,kBAAkB,CAAC;QAC3B,IAAI,CAAC,GAAG,kBAAkB,CAAC;QAC3B,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE;QACtC,IAAI,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC;QACrB,IAAI,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC;QACrB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC;QAC3B,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;QAClD,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;QAC5B,kFAAkF;QAClF,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,CAAC,eAAe,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC,CAAC;IAC9G,CAAC;IAMD,SAAS;IACT,SAAS;QACP,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;IACrG,CAAC;IAED,SAAS,CAAC,KAAK;QACb,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC;IACjD,CAAC;;gFAphCU,gBAAgB;gGAAhB,gBAAgB;QCxB7B,yEACE;QAAA,yEACE;QAAA,8EACE;QAAA,4EACE;QAD6D,wIAAS,cAAU,WAAW,CAAC,IAAC;QAC7F,wEAA2C;QAC7C,4DAAS;QAIT,4EACE;QAD6D,wIAAS,cAAU,UAAU,CAAC,IAAC;QAC5F,wEAA0C;QAC5C,4DAAS;QACT,4EACE;QAD8D,wIAAS,cAAU,WAAW,CAAC,IAAC;QAC9F,wEAAyC;QAC3C,4DAAS;QACT,4EACE;QADwD,wIAAS,cAAU,MAAM,CAAC,IAAC;QACnF,yEAAyC;QAC3C,4DAAS;QACT,6EACE;QAD6D,yIAAS,cAAU,QAAQ,CAAC,IAAC;QAC1F,yEAAwC;QAC1C,4DAAS;QACT,6EACE;QAD6D,yIAAS,cAAU,aAAa,CAAC,IAAC;QAC/F,kEACF;QAAA,4DAAS;QAIX,4DAAc;QAChB,4DAAM;QACN,0EACE;QAAA,0EACE;QAAA,iEACA;QAAA,0EACE;QAAA,sFACE;QAAA,6EAAW;QAAA,+FAAmC;QAAA,4DAAY;QAC1D,kFACE;QADwC,uKAAmB,6BAAyB,IAAC;QACrF,kFAAwB;QAAA,+DAAG;QAAA,4DAAa;QACxC,kFAA0B;QAAA,iEAAK;QAAA,4DAAa;QAC5C,kFAAyB;QAAA,gEAAI;QAAA,4DAAa;QAC1C,kFAA0B;QAAA,iEAAK;QAAA,4DAAa;QAC5C,kFAA4B;QAAA,uEAAW;QAAA,4DAAa;QACpD,kFAA8B;QAAA,qEAAS;QAAA,4DAAa;QACpD,kFAA+B;QAAA,sEAAU;QAAA,4DAAa;QACtD,kFAA0B;QAAA,iEAAK;QAAA,4DAAa;QAC9C,4DAAa;QACf,4DAAiB;QACnB,4DAAM;QACN,8EACE;QADwE,yIAAS,eAAW,CAAC,CAAC,IAAC;QAC/F,2EACF;QAAA,4DAAS;QACT,8EACE;QADuE,yIAAS,eAAW,CAAC,CAAC,IAAC;QAC9F,2EACF;QAAA,4DAAS;QACT,8EACE;QADsE,yIAAS,mBAAe,IAAC;QAC/F,wEACF;QAAA,4DAAS;QACT,8EACE;QAD6E,yIAAS,iBAAa,IAAC;QACpG,oEACF;QAAA,4DAAS;QACT,8EACE;QAD6E,yIAAS,mBAAe,IAAC;QACtG,2EACF;QAAA,4DAAS;QACT,uEACE;QAAA,6EAAW;QAAA,wDAA6B;QAAA,4DAAY;QAAA,iEACpD;QAAA,kFAEa;QADS,+LAAyB,qFAAU,kBAAc,IAAxB;QAC/C,4DAAa;QACf,4DAAM;QACR,4DAAM;QAEN,2EACE;QACA,2EAGM;QAH8D,4IAAS,eAAW,IAAC,oFAC9E,yBAAqB,IADyD,0FAC3C,+BAA2B,IADgB,4FACD,wBAAoB,IADnB,4FAE1E,wBAAoB,IAFsD,wFAEzC,sBAAkB,IAFuB;QAGzF,4DAAM;QAIR,4DAAM;QAEN,0EACE;QAAA,+GAAqB;QAGrB,+GACE;QAyCJ,4DAAM;QACR,4DAAM;QAER,4DAAM;;QA9HW,0DAAuB;QAAvB,oFAAuB;QAMvB,0DAAsB;QAAtB,mFAAsB;QAGtB,0DAAqB;QAArB,kFAAqB;QAGrB,0DAAqB;QAArB,kFAAqB;QAGrB,0DAAoB;QAApB,iFAAoB;QAa1B,0DAAyB;QAAzB,sFAAyB;QA+BjB,2DAA6B;QAA7B,uGAA6B;QACL,0DAA2B;QAA3B,wFAA2B;QAkB3D,0DAAe;QAAf,6EAAe;QAGf,0DAAe;QAAf,6EAAe;;6FD7Db,gBAAgB;cAL5B,uDAAS;eAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACxC;;;;;;;;;;;;;;AEvBD;AAAA;AAAA;AAAA;AAAyC;AACc;;;AAEvD,MAAM,MAAM,GAAW,EAAE,CAAC;AAMnB,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Injectable } from '@angular/core';\nimport{ Observable, of} from 'rxjs'\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawingService {\n\n  constructor(private http:HttpClient) {}\n\n  postShape(data:any):Observable<any>{\n    console.log('service', data)\n    return this.http.post<any>('https://6026ea65186b4a0017780c7d.mockapi.io/get/draw/USERS/', data)\n  }\n \n  putShape(data:any, id:any):Observable<any>{\n    console.log('service', data)\n    return this.http.put<any>('https://6026ea65186b4a0017780c7d.mockapi.io/get/draw/USERS/'+id, data)\n  }\n \n  getShape():Observable<any>{\n    return this.http.get<any>('https://6026ea65186b4a0017780c7d.mockapi.io/get/draw/USERS/')\n  }\n \n  deleteShape(id:any):Observable<any>{\n    return this.http.delete<any>('https://6026ea65186b4a0017780c7d.mockapi.io/get/draw/USERS/'+id)\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'rochePOC';\n}\n","<app-drawing></app-drawing>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DrawingComponent } from './drawPOC/drawing/drawing.component';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatListModule} from '@angular/material/list';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DrawingComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FontAwesomeModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatRadioModule,\n    MatCardModule,\n    MatSnackBarModule,\n    MatSliderModule,\n    MatSelectModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatTooltipModule,\n    MatDividerModule,\n    MatListModule\n  ],\n  providers: [],\n  schemas: [NO_ERRORS_SCHEMA],\n  bootstrap: [AppComponent],\n\n})\nexport class AppModule { }\n","import { Component, OnInit, AfterViewInit, HostListener, ViewChild, ElementRef } from '@angular/core';\nimport { shapeDetails } from '../drawing.model';\nimport {\n  faCircle,\n  faVectorSquare,\n  faArrowRight,\n  faEdit,\n  faPencilAlt,\n  faTextHeight,\n  faRecycle,\n  faTrashAlt,\n  faDrawPolygon\n} from '@fortawesome/free-solid-svg-icons';\nimport { nanoid } from 'nanoid'\nimport { FormBuilder, Validators, FormGroup, FormControl } from \"@angular/forms\";\nimport { DrawingService } from \"../drawing.service\"\n\ndeclare let OpenSeadragon: any;\ndeclare let fabric: any;\n@Component({\n  selector: 'app-drawing',\n  templateUrl: './drawing.component.html',\n  styleUrls: ['./drawing.component.scss']\n})\nexport class DrawingComponent implements OnInit {\n\n  // @ViewChild('openseadragon-holder') osdElement: ElementRef;\n  viewer: any;\n  fabricCanvas: any;\n  shapeType: string = '';\n  startPointX: number = 0;\n  startPointY: number = 0;\n  endPointX: number = 0;\n  endPointY: number = 0;\n  shapeData: any;\n  //shapeCollection:Array<{}> = []\n  shapeCollection: any = []\n  mouseMoveEnable: boolean = false;\n  consolidated: any = [];\n  undoRedo: any = [];\n  polyLinePointCollection: any = [];\n  startPolyLinePoint: any;\n  getData: any;\n  shapeKey: Array<any> = [];\n\n  getdataList: any;\n  getshapeData: any;\n  selectedShape: any;\n  isExistingShap: boolean = false;\n  shapeIndex: any;\n  editedShape: any;\n  shapeSID: any;\n  shapesGroup: any;\n  strokeColor: string = 'Red';\n  tileSource1: any;\n  tileSource2: any;\n  tilesData = [];\n\n  shapeFormat: shapeDetails = {\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    stroke: '',\n    strokeWidth: 0,\n    type: '',\n    sid: '',\n    radius: 0,\n    points: [],\n    text: '',\n    angle: 0,\n    path: []\n\n  };\n\n  /* ICON */\n  faVectorSquare = faVectorSquare;\n  faCircle = faCircle;\n  faDrawPolygon = faDrawPolygon;\n  faArrowRight = faArrowRight;\n  faEdit = faEdit;\n  faTextHeight = faTextHeight;\n  faPencilAlt = faPencilAlt;\n  faTrashAlt = faTrashAlt\n\n  //@slider\n  sliderDisabled = false;\n  sliderVertical = false;\n  rotateMin = 0\n  rotateMax = 360\n  rotateStep = 1\n  rotateValue = 0\n  rotateDegrees = 0;\n  rotageTileIndex = NaN;\n  zoomvalue: number;\n\n  constructor(public service: DrawingService, private fb: FormBuilder) { }\n\n  formControl() {\n    this.shapesGroup = new FormGroup({\n      customColor: new FormControl(),\n      // fontColor:new FormControl()\n    })\n  }\n\n  ngOnInit(): void {\n    this.formControl();\n\n  }\n\n  enableRef(event) {\n    console.log('enable ref')\n  }\n  enableCanvas(event) {\n    console.log('enable canvas', event)\n  }\n\n  ngAfterViewInit() {\n    this.osdTiles();\n    this.OSDLayer();\n    this.subscribeShape();\n    // this.loadPath();\n    // this.testClick();\n    //this.imgMoveStart();\n    //this.viewer.addHandler('canvas-click', this.clickHandler, this);\n    // this.fabricCanvas.on('object:modified', this.enableRef)\n    // this.fabricCanvas.addHandler('canvas-click', this.enableCanvas, this )\n  }\n\n  osdTiles() {\n    this.tileSource1 = {\n      Image: {\n        xmlns: \"http://schemas.microsoft.com/deepzoom/2008\",\n        Url: \"http://openseadragon.github.io/example-images/highsmith/highsmith_files/\",\n        Format: \"jpg\",\n        Overlap: \"2\",\n        TileSize: \"256\",\n        Size: {\n          Height: \"9221\",\n          Width: \"7026\",\n        }\n      }\n    };\n    this.tileSource2 = {\n      \"@context\": \"http://iiif.io/api/image/2/context.json\",\n      \"@id\": \"https://libimages1.princeton.edu/loris/pudl0001%2F4609321%2Fs42%2F00000001.jp2\",\n      \"height\": 7200,\n      \"width\": 5233,\n      \"profile\": [\"http://iiif.io/api/image/2/level2.json\"],\n      \"protocol\": \"http://iiif.io/api/image\",\n      \"tiles\": [{\n        \"scaleFactors\": [1, 2, 4, 8, 16, 32],\n        \"width\": 1024\n      }]\n\n    };\n    const osdMetaInfo = {\n      Image: {\n        xmlns: 'http://schemas.microsoft.com/deepzoom/2008',\n        Url: '//openseadragon.github.io/example-images/duomo/duomo_files/',\n        Format: 'jpg',\n        Overlap: '2',\n        TileSize: '256',\n        Size: {\n          Width: '13920',\n          Height: '10200',\n        },\n\n      },\n    };\n  }\n\n  OSDLayer() {\n    let image1 = {\n      type: 'image',\n      url: 'https://cdn.pixabay.com/photo/2017/04/23/05/56/ankle-2253057_960_720.jpg'\n    }\n    let image2 = {\n      type: 'image',\n      url: 'https://cdn.pixabay.com/photo/2018/01/03/07/36/radiography-3057768_960_720.jpg'\n    }\n\n    let image3 = {\n      type: 'image',\n      url: \"https://cdn.pixabay.com/photo/2016/01/08/22/35/xray-1129430_960_720.jpg\"\n    }\n\n\n    this.viewer = new OpenSeadragon.Viewer({\n      id: 'openseadragon-holder',\n      zoomPerClick: 2, //  1 is Disable click to zoom, 2 is Enable\n      // prefixUrl: '//openseadragon.github.io/openseadragon/images/',\n      // tileSources: image1,  // osdMetaInfo,// single image\n      tileSources: [\n        {\n          tileSource: image1,//this.tileSource1,\n          width: 1, //which specifies that your image will stretch from 0 to 10, and therefore your viewport coordinates go from 0 to 10.\n          degrees: this.rotateValue ? this.rotateValue : 0,//this.rotateDegrees,\n          y: 0,\n          x: 0,\n        },/* {\n          tileSource: image2, //this.tileSource2,\n          width: 1,\n          degrees: this.rotateDegrees,\n          y: 0,\n          x: 1.1,\n        },\n        {\n          tileSource: image3, //this.tileSource2,\n          width: 1,\n          degrees: this.rotateDegrees,\n          y: 0,\n          x: 2.1,\n        }*/\n      ],\n      //  collectionMode:true,\n      // sequenceMode: true,    \n      //showReferenceStrip: true,\n      // referenceStripScroll: 'vertical',\n\n      debugMode: true,\n      // minZoomImageRatio:  5,\n      // maxZoomImageRatio:5,\n      // degrees: 90,\n      // showRotationControl: true,\n      //   collectionMode:       true,\n      // collectionRows:       2, \n      // collectionTileSize:   1024,\n      // collectionTileMargin: 256,\n      //collectionLayout:     'horizontal',\n      controlsFadeDelay: 90000,\n      gestureSettingsTouch: {\n        pinchRotate: true,\n      },\n      // overlays: [{\n      //   id: 'freeDraw',\n      //   px: 0,\n      //   py: 0,\n      //   width: 13920,\n      //   height: 10200,\n      //   placement: 'RIGHT',\n      //   checkResize: false\n      // }],\n\n    });\n    this.fabricCanvas = this.viewer.fabricjsOverlay({ scale: 1000 }).fabricCanvas();\n    this.viewer.setMouseNavEnabled(false);\n  }\n\n  getImagePosition(webPoint) {\n    let item, box, containsPoint;\n    //let point= this.viewer.viewport.pointFromPixel(webPoint)\n    for (let i = 0; i < this.viewer.world.getItemCount(); i++) {\n      item = this.viewer.world.getItemAt(i);\n      box = item.getBounds();\n      // console.log('dfa', this.viewer.containsPoint(webPoint))\n      containsPoint = box.containsPoint(webPoint);\n\n    }\n\n    console.log('image status', box, containsPoint)\n\n  }\n\n  private clickHandler(event) {\n    console.log('canvas-click', event)\n  }\n\n  osdMouseClick(event: MouseEvent) {\n    this.fabricCanvas.on('mouse:down', this.osdMouseDown);\n    this.fabricCanvas.on('mouse:up', this.osdMouseUp);\n    this.fabricCanvas.on('mouse:move', this.osdMouseMove);\n    let imageIndex = [];\n    for (let i = 0; i < this.viewer.source.levels.length; i++) {\n      console.log('url', this.viewer.source.levels[i].url)\n      let s = this.viewer.tileSources.findIndex(x => x.tileSource.url === this.viewer.source.levels[i].url);\n      console.log('sssss', s)\n\n      for (let k = 0; k < this.viewer.tileSources.length; k++) {\n        console.log('tiles', this.viewer.tileSources[k].tileSource.url)\n        console.log('index', this.viewer.tileSources[k].tileSource.url.indexOf(this.viewer.source.levels[i].url))\n        // imageIndex.push(imageIndex)\n\n      }\n\n    }\n\n    // index = a.findIndex(x => x.prop2 ===\"yutu\");\n    //let s =this.viewer.tileSources(x =>x.tileSource.url == )\n    console.log('select', imageIndex)\n\n    //this.viewer.a\n    this.getImagePosition(this.fabricCanvas.getPointer(event))\n    console.log(\"###### POINTER #####\", this.fabricCanvas.getPointer(event), event)\n    console.log('viewr%%%%%', this.viewer)\n    this.zoomvalue = this.viewer.viewport.getZoom();\n    console.log('flag', this.isExistingShap)\n    console.log('mouse click shape Index', this.shapeIndex, this.shapeSID, this.getData)\n    let shapeId = this.shapeSID\n    var results = this.getData.filter(function (x: any) { return x.sid === shapeId });\n    if (this.shapeSID !== '') {\n      console.log('put', this.shapeSID, results)\n      this.put(this.selectedShape, this.shapeIndex)\n    }\n    console.log('result', results)\n    this.selectedShape = this.fabricCanvas.getActiveObject();\n    if (this.selectedShape) {\n      this.shapeType = this.selectedShape.type\n    }\n    console.log('Mouse Click', this.mouseMoveEnable, event)\n    if (this.shapeType === 'PolyLine') {\n      let polyLinePoint = this.fabricCanvas.getPointer(event);\n      this.polyLinePointCollection.push(polyLinePoint);\n      this.startPolyLinePoint = this.polyLinePointCollection[0]\n      console.log('poly', this.startPolyLinePoint, this.polyLinePointCollection)\n      this.shadowPolyLine(this.polyLinePointCollection, this.strokeColor)\n    }\n    console.log('selected from viewer', this.selectedShape, this.shapeType, this.isExistingShap)\n    if (this.isExistingShap) {\n      this.formateObject(this.selectedShape)\n    }\n\n  }\n\n\n\n  formateObject(data: any) {\n    console.log('Format Object SAVE ---', data)\n    console.log('Shape Index', this.shapeIndex, this.selectedShape)\n    if (this.shapeFormat) {\n      this.shapeFormat.width = data.width\n      this.shapeFormat.height = data.height\n      this.shapeFormat.top = data.top\n      this.shapeFormat.left = data.left\n      this.shapeFormat.type = data.type\n      this.shapeFormat.strokeWidth = data.strokeWidth\n      this.shapeFormat.stroke = data.stroke\n      this.shapeFormat.sid = data.id\n      this.shapeFormat.radius = data.radius\n      this.shapeFormat.points = data.points\n      this.shapeFormat.text = data.text\n      this.shapeFormat.angle = data.angle\n      this.shapeFormat.path = data.path\n    }\n    if (this.isExistingShap) {\n      console.log('#### PUT #####')\n      this.put(this.shapeFormat, this.shapeIndex)\n    }\n    else {\n      console.log('#### POST #####')\n      this.save(this.shapeFormat)\n    }\n  }\n\n  osdMouseDoubleClick(event: MouseEvent) {\n    this.viewer.collectionMode = false;\n    this.viewer.sequenceMode = true;\n    console.log('Mouse Double Click', event);\n    if (this.shapeType === 'polyline') {\n      this.polyLinePointCollection.push(this.startPolyLinePoint);\n      this.shapeType = 'completePolyLine';\n      this.shapeData = null\n    }\n    if (this.shapeType === 'completePolyLine') {\n      this.shapeData = this.createPolyLine(this.polyLinePointCollection, this.strokeColor)\n      this.fabricCanvas.add(this.shapeData);\n      this.fabricCanvas.renderAll();\n      // var obj = this.fabricCanvas.getActiveObject();\n      //let Myid= this.fabricCanvas.getActiveObject().get('id');\n      //console.log('myID', Myid);\n      //this.fabricCanvas.remove(obj)\n      console.log('poly complet', this.polyLinePointCollection)\n      console.log('poly', this.shapeData, this.createPolyLine)\n      if (this.shapeData) {\n        this.shapeCollection.push(this.shapeData)\n        this.formateObject(this.shapeData);\n        this.shapeType = 'null';\n      }\n      console.log('this.shapeTyp', this.shapeType)\n      this.polyLinePointCollection = [];\n    }\n\n  }\n\n  // @HostListener('mousedown', ['$event'])\n  osdMouseDown(event: MouseEvent) {\n    console.log('Mouse Down', this.shapeType)\n    console.log('Shape Index', this.shapeIndex)\n    this.mouseMoveEnable = true;\n    if (event.offsetX !== undefined) {\n      this.startPointX = this.fabricCanvas.getPointer(event).x;\n      this.startPointY = this.fabricCanvas.getPointer(event).y;\n      if (this.shapeType === 'Rectangle' || this.shapeType === 'Rect') {\n        //this.imgMoveStop();\n        console.log('Mouse Down #####', event)\n        console.log('starting Point', this.fabricCanvas.getPointer(event))\n        this.createRectangleShape(this.startPointX, this.startPointY, 0, 0, this.strokeColor);\n      }\n      if (this.shapeType === 'Circle') {\n        console.log('DRAW CIRCLE');\n        this.createCircle(this.startPointX, this.startPointY, 0, this.strokeColor)\n      }\n      if (this.shapeType === 'Text') {\n        console.log('DRAW CIRCLE');\n        this.creatItext(this.startPointX, this.startPointY, 'hai', this.strokeColor)\n      }\n    }\n  }\n\n  // @HostListener('mouseup', ['$event'])\n  osdMouseUp(event: MouseEvent) {\n    console.log('mouse UP selected Data', this.shapeData)\n    console.log('mouse up selected Index', this.shapeIndex)\n    if (event.target !== undefined) {\n      console.log('Mouse UP ############');\n      console.log('mouseup cord', event.target)\n    }\n    if (event.offsetX !== undefined) {\n      if (this.shapeType === 'Rect' || this.shapeType === 'Rectangle' || this.shapeType === 'Circle' || this.shapeType === 'Text' || this.shapeType === 'pencil') {\n        if (this.fabricCanvas.freeDrawingBrush._points.length > 1) {\n          this.shapeData.set({ path: this.fabricCanvas.freeDrawingBrush._points })\n        }\n        if (this.shapeData) {\n          // this.shapeData.angle = this.rotateValue; // revisit \n\n          this.shapeCollection.push(this.shapeData)\n          console.log('cre', this.shapeData)\n          this.formateObject(this.shapeData);\n          this.shapeType = 'null';\n        }\n        this.mouseMoveEnable = false;\n        this.viewer.setMouseNavEnabled(true);\n      }\n      if (this.shapeType === 'LineArrow') {\n        let arrowUpPoints = this.fabricCanvas.getPointer(event);\n        let endX = arrowUpPoints.x;\n        let endY = arrowUpPoints.y;\n        this.drawArrow(this.startPointX, this.startPointY, endX, endY, this.strokeColor)\n        if (this.shapeData) {\n          this.shapeCollection.push(this.shapeData)\n          this.formateObject(this.shapeData);\n          this.shapeType = 'null';\n        }\n      }\n\n    }\n    this.selectedShape = true;\n  }\n\n  // @HostListener('mousemove', ['$event'])\n  osdMouseMove(event: MouseEvent) {\n    if (event.offsetX !== undefined) {\n      let movedPoint = this.fabricCanvas.getPointer(event);\n      // console.log('****WIDTH ****', Math.abs(this.startPointX - movedPoint.x))\n    }\n    if (event.offsetX !== undefined) {\n      let movedPoint = this.fabricCanvas.getPointer(event);\n      if (this.mouseMoveEnable && movedPoint && this.startPointX && this.shapeData !== undefined) {\n        // console.log('Mouse MOVE width',  Math.abs(this.startPointX - movedPoint.x))\n        if (this.shapeType === 'Rectangle' || this.shapeType === 'Rect') {\n          this.shapeData.set({\n            left: this.startPointX < movedPoint.x ? this.startPointX : movedPoint.x,\n            top: this.startPointY < movedPoint.y ? this.startPointY : movedPoint.y,\n            width: Math.abs(this.startPointX - movedPoint.x),\n            height: Math.abs(this.startPointY - movedPoint.y)\n          });\n          console.log('dsadfasfasdfdasfasfds')\n          this.fabricCanvas.setActiveObject(this.shapeData);\n          this.fabricCanvas.renderAll();\n        }\n        if (this.shapeType === 'Circle') {\n          this.shapeData.set({\n            radius: Math.abs(this.startPointX - movedPoint.x)\n          })\n          this.fabricCanvas.setActiveObject(this.shapeData)\n          this.fabricCanvas.renderAll();\n        }\n\n      }\n    }\n  }\n\n  drawShape(shapeAction: any) {\n    this.isExistingShap = false;\n    console.log('shape type', shapeAction, nanoid())\n    this.shapeType = shapeAction;\n    // this.imgMoveStop();\n    this.viewer.setMouseNavEnabled(false);\n    if (shapeAction === \"pencil\") {\n      this.shapeType = \"pencil\"\n      this.shapeData = new fabric.Canvas('freeDraw', {})\n      this.shapeData.type = 'pencil'\n      this.shapeData.id = nanoid();\n      this.fabricCanvas.freeDrawingBrush.color = 'green';\n      this.fabricCanvas.freeDrawingBrush.width = 5;\n      this.fabricCanvas.isDrawingMode = true;\n      this.viewer.setMouseNavEnabled(false);\n    }\n\n    if (shapeAction === \"pencilBrush\") {\n      //  this.fabricCanvas.isDrawingMode = true;\n      let shapdata = new fabric.PencilBrush({\n        left: 100,\n        top: 300,\n        decimate: 8, color: 'red', width: 10\n      })\n      this.fabricCanvas.add(shapdata).renderAll();\n    }\n\n  }\n\n  createRectangleShape(x?: number, y?: number, w?: number, h?: number, color?: string, angle?: number) {\n    console.log('cee')\n    this.shapeData = new fabric.Rect({\n      type: 'Rect',\n      left: x,\n      top: y,\n      width: w ? w : 0,\n      height: h ? h : 0,\n      fill: '',\n      stroke: color ? color : 'red',\n      strokeWidth: 5,\n      angle: angle ? angle : 0,\n      cornerColor: 'green',\n      cornerSize: 6,\n      transparentCorners: false\n    })\n    this.shapeData.id = nanoid();\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n  }\n\n  createCircle(x?: number, y?: number, r?: number, color?: string) {\n    console.log('cirlce', x, y, r)\n    this.shapeData = new fabric.Circle({\n      type: 'circle',\n      left: x,\n      top: y,\n      radius: r ? r : 0,\n      fill: '',\n      stroke: color ? color : 'red',\n      strokeWidth: 10,\n      originX: 'center',\n      originY: 'center'\n    });\n    this.shapeData.id = nanoid();\n    this.fabricCanvas.add(this.shapeData);\n\n  }\n\n  createPolyLine(points: Array<any>, color?: string) {\n    this.shapeData = new fabric.Polyline(points, {\n      fill: '',\n      stroke: color ? color : 'orange',\n      strokeWidth: 5,\n    })\n    if (this.shapeType === 'completePolyLine') {\n      this.shapeData.id = nanoid();\n      this.shapeCollection.push(this.shapeData)\n      console.log('poly data', this.shapeData);\n      console.log('poly Arrya', this.shapeCollection);\n      this.shapeType = 'finish';\n      this.mouseMoveEnable = false;\n      // this.fabricCanvas.add(this.shapeData);\n      // this.fabricCanvas.renderAll();\n      //this.fabricCanvas.setActiveObject(this.shapeData)\n    }\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n\n  }\n\n  shadowPolyLine(points: Array<any>, color?: string) {\n    this.shapeData = new fabric.Polyline(points, {\n      fill: '',\n      stroke: color ? color : 'orange',\n      strokeWidth: 5\n    })\n    if (this.shapeType === 'completePolyLine') {\n      this.shapeData.id = nanoid();\n      this.shapeData = {}\n      this.shapeCollection.push(this.shapeData)\n      console.log('poly data', this.shapeData);\n      console.log('poly Arrya', this.shapeCollection);\n      this.shapeType = 'finish'\n      // this.fabricCanvas.add(this.shapeData);\n      // this.fabricCanvas.renderAll();\n    }\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n\n  }\n\n  loadPath() {\n    const temp = [\"M\", 281.6495878092448, 111.995]\n    this.shapeData = new fabric.Path(temp, {\n      strokeWidth: 3,\n      stroke: 'green',\n      fill: 'green',\n      selectable: false,\n      hasRotatingPoint: false\n    });\n    // as CustomFabricPath;\n    // path.id = uuid();\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n  }\n\n  loadPolyline(points: Array<any>, x?: number, y?: number) {\n    this.shapeData = new fabric.Polyline(points, {\n      fill: '',\n      stroke: 'orange',\n      strokeWidth: 5,\n      left: x ? x : null,\n      top: y ? y : null\n    })\n    this.fabricCanvas.add(this.shapeData);\n  }\n\n  unsetEvent() {\n    this.viewer.setMouseNavEnabled(!this.mouseMoveEnable); // revisit\n  }\n\n  selectItem(details: any, index: number) {\n    this.mouseEventOn();\n    let objectData = this.fabricCanvas.getActiveObject()\n    this.fabricCanvas.setActiveObject(this.fabricCanvas.item(index + 1))\n    //this.fabricCanvas.setActiveObject(0)\n    this.shapeIndex = details.id\n    this.shapeSID = details.sid\n    this.shapeType = details.type\n    this.editedShape = details.type   // this.shapeData = details;\n    this.isExistingShap = true;\n    console.log('select Item', details.id, details.type, this.shapeIndex);\n    this.viewer.setMouseNavEnabled(false);\n    //let objectData =  this.fabricCanvas.getActiveObject();\n    //this.viewer.world.getItemAt(0).setRotation(180, true);\n    // console.log('totad', objectData)\n    // this.shapeType = objectData.type\n    //this.mouseMoveEnable = true;\n    // this.fabricCanvas.setActiveObject(this.fabricCanvas.item(0));\n    // this.fabricCanvas.setActiveObject(0);\n    // this.fabricCanvas.requestRenderAll();\n    //this.fabricCanvas.setActiveObject(objectData);\n    this.fabricCanvas.renderAll();\n  }\n\n  save(shapData: any) {\n    this.service.postShape(shapData).subscribe(a => {\n      console.log('SAVE SUBCRIBE', a)\n      if (a) {\n        this.subscribeShape();\n      }\n    });\n  }\n\n  subscribeShape() {\n    this.service.getShape().subscribe(res => {\n      this.getData = res;\n      console.log('PAGE LOAD SUBCRIBE DATA', this.getData)\n      for (let i = 0; i < this.getData.length; i++) {\n        if (this.getData[i].type === 'Rect') {\n\n          // this.createRectangleShape(this.getData[i].left, this.getData[i].top, this.getData[i].width, this.getData[i].height, this.getData[i].stroke, this.getData[i].angle);\n          this.fabricCanvas.clear();\n          // this.rotateValue = 120;\n          this.reCreateObjects();\n        }\n        if (this.getData[i].type === 'circle') {\n          this.createCircle(this.getData[i].left, this.getData[i].top, this.getData[i].radius, this.getData[i].stroke);\n        }\n        if (this.getData[i].type === 'arrow') {\n          this.loadArrowLine(this.getData[i].points, this.getData[i].stroke)\n          //this.drawArrow(this.getData[i].left, this.getData[i].top, this.getData[i].radius);\n        }\n        if (this.getData[i].type === 'polyline') {\n          this.loadArrowLine(this.getData[i].points, this.getData[i].stroke)\n          //this.drawArrow(this.getData[i].left, this.getData[i].top, this.getData[i].radius);\n        }\n        if (this.getData[i].type === 'i-text') {\n          console.log('arrow', this.getData[i])\n          this.creatItext(this.getData[i].left, this.getData[i].top, this.getData[i].text, this.getData[i].stroke)\n          //this.drawArrow(this.getData[i].left, this.getData[i].top, this.getData[i].radius);\n        }\n        if (this.getData[i].type === 'pencil') {\n          this.loadArrowLine(this.getData[i].path, this.getData[i].stroke)\n          //this.drawArrow(this.getData[i].left, this.getData[i].top, this.getData[i].radius);\n        }\n\n      }\n    });\n  }\n\n  put(shapeData: any, id: string) {\n    this.service.putShape(shapeData, id).subscribe(a => {\n      console.log('put', a)\n    });\n  }\n\n\n  mouseEventOn() {\n    this.fabricCanvas.on('mouse:down', this.osdMouseDown);\n    this.fabricCanvas.on('mouse:up', this.osdMouseUp);\n    this.fabricCanvas.on('mouse:move', this.osdMouseMove);\n  }\n\n  mouseEventOff() {\n    this.fabricCanvas.off('mouse:down', this.osdMouseDown);\n    this.fabricCanvas.off('mouse:up', this.osdMouseUp);\n    this.fabricCanvas.off('mouse:move', this.osdMouseMove);\n  }\n\n  loadArrowLine(points: any, color?: string) {\n    this.shapeData = new fabric.Polyline(points, {\n      fill: '',\n      stroke: color ? color : 'red',\n      background: 'red',\n      opacity: 1,\n      strokeWidth: 5,\n      originX: 'left',\n      originY: 'top',\n      selectable: true,\n      type: 'arrow'\n    });\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n  }\n\n  creatItext(x: number, y: number, text: string, color: string) {\n    let txt = text ? text : 'hello'\n    this.shapeData = new fabric.IText(txt, {\n      left: x,\n      top: y,\n      fill: color ? color : 'red',\n      stroke: color ? color : 'red',\n      strokeWidth: 2,\n      lineHeight: 2\n      // originX: 'center',\n      // originY: 'center'\n    });\n    this.shapeData.id = nanoid();\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n  }\n\n\n  drawArrow(fromX: number, fromY: number, toX: number, toY: number, color: string) {\n    console.log('drwarrow',)\n    let arrowAngle = Math.atan2(toY - fromY, toX - fromX);\n    let arrowHeadSize = 15;\n    toX = toX - (arrowHeadSize) * Math.cos(arrowAngle);\n    toY = toY - (arrowHeadSize) * Math.sin(arrowAngle);\n    let points = [\n      {\n        x: fromX,\n        y: fromY\n      },\n      {\n        x: fromX - (arrowHeadSize / 4) * Math.cos(arrowAngle - Math.PI / 2),\n        y: fromY - (arrowHeadSize / 4) * Math.sin(arrowAngle - Math.PI / 2)\n      },\n      {\n        x: toX - (arrowHeadSize / 4) * Math.cos(arrowAngle - Math.PI / 2),\n        y: toY - (arrowHeadSize / 4) * Math.sin(arrowAngle - Math.PI / 2)\n      },\n\n      {\n        x: toX - (arrowHeadSize) * Math.cos(arrowAngle - Math.PI / 2),\n        y: toY - (arrowHeadSize) * Math.sin(arrowAngle - Math.PI / 2)\n      },\n\n      {\n        x: toX + (arrowHeadSize) * Math.cos(arrowAngle),\n        y: toY + (arrowHeadSize) * Math.sin(arrowAngle)\n      },\n\n      {\n        x: toX - (arrowHeadSize) * Math.cos(arrowAngle + Math.PI / 2),\n        y: toY - (arrowHeadSize) * Math.sin(arrowAngle + Math.PI / 2)\n      },\n      {\n        x: toX - (arrowHeadSize / 4) * Math.cos(arrowAngle + Math.PI / 2),\n        y: toY - (arrowHeadSize / 4) * Math.sin(arrowAngle + Math.PI / 2)\n      },\n      {\n        x: fromX - (arrowHeadSize / 4) * Math.cos(arrowAngle + Math.PI / 2),\n        y: fromY - (arrowHeadSize / 4) * Math.sin(arrowAngle + Math.PI / 2)\n      },\n      {\n        x: fromX,\n        y: fromY\n      }\n    ];\n\n    console.log('arrow points', points)\n    this.shapeData = new fabric.Polyline(points, {\n      fill: color ? color : 'red',\n      stroke: color ? color : 'red',\n      background: 'red',\n      opacity: 1,\n      strokeWidth: 5,\n      originX: 'left',\n      originY: 'top',\n      selectable: true,\n      type: 'arrow'\n    });\n    this.shapeData.id = nanoid();\n    this.fabricCanvas.add(this.shapeData);\n    this.fabricCanvas.renderAll();\n  }\n\n  clk(event: any) {\n    // this.viewer.goToPage(0)\n    // var tiledImage = this.viewer.world.getItemAt(0);\n    // var viewportPosRect = new OpenSeadragon.Rect(20, 30, 10,10);\n    //             var tileSourcePosRect = tiledImage._viewportToTiledImageRectangle(viewportPosRect);\n    // console.log('image', this.viewer.world.getIndexOfItem())\n    // this.viewer.addHandler('canvas-click', function (event:any) {\n    //   console.log('canvas...', event.target)\n    // });\n  }\n\n  imgMoveStop() {\n    this.viewer.addHandler('canvas-drag', function (event: any) {\n      event.preventDefaultAction = true;\n    });\n  }\n\n  imgMoveStart() {\n    this.viewer.addHandler('canvas-drag', function (event: any) {\n      event.preventDefaultAction = false;\n\n    });\n  }\n\n  selectStrokeColor(event: any) {\n    this.strokeColor = event.value\n  }\n\n  selectTile(tile: number) {\n    this.rotageTileIndex = tile\n    this.viewer.world.getItemAt(0).setRotation(90, true);\n  }\n\n  delete(id: number, index: number) {\n    // this.fabricCanvas.setActiveObject(this.fabricCanvas.item(index+1))\n    let del;\n    console.log('delete', id, index)\n    this.service.deleteShape(id).subscribe(res => {\n      if (res) {\n        del = res;\n        console.log('delete res', res)\n        this.subscribeShape();\n      }\n\n    });\n    var activeObject = this.fabricCanvas.getActiveObject()\n    console.log('delete res', activeObject)\n    //this.fabricCanvas.item(index+1)\n    if (confirm('Are you sure?')) {\n      this.fabricCanvas.remove(activeObject);\n    }\n    this.fabricCanvas.renderAll();\n  }\n\n  getTile() {\n    var i, tiledImage;\n    var count = this.viewer.world.getItemCount();\n    var tilesData;\n    for (i = 0; i < count; i++) {\n      var tileData = this.tilesData[i];\n      var imagePoint = new OpenSeadragon.Point(tileData.x, tileData.y);\n      const viewerPoint = tiledImage.imageToViewportCoordinates(imagePoint);\n      tiledImage = this.viewer.world.getItemAt(i);\n      tiledImage.setPosition(viewerPoint);\n      console.log('tileimag', tiledImage)\n    }\n\n  }\n\n  reCreateObjects() {\n    let annotations = this.getData\n    console.log('RECREATED object', this.fabricCanvas.getObjects(), this.getData)\n    //let annotations =  this.fabricCanvas.getObjects();\n    // console.log('rere', new fabric.Point(annotations[1].left, annotations[1].top))\n\n    for (let i = 0; i < annotations.length; i++) {\n      console.log('annotation', annotations[i].type) //this.fabricCanvas.getVpCenter()\n      if (annotations[i].type === 'Rect') {\n        let posNewCenter = fabric.util.rotatePoint(new fabric.Point(annotations[i].left, annotations[i].top), this.fabricCanvas.getVpCenter(), fabric.util.degreesToRadians(this.rotateValue))\n        this.createRectangleShape(posNewCenter.x, posNewCenter.y, annotations[i].width, annotations[i].height, annotations[i].color, this.rotateValue)\n      }\n    }\n\n  }\n\n  rotateSlider() {\n    // this.viewer.world.getItemAt(this.rotageTileIndex).setRotation(this.rotateValue, false);\n    this.viewer.world.getItemAt(0).setRotation(this.rotateValue, true);\n    this.fabricCanvas.clear();\n    setTimeout(() => {\n      this.reCreateObjects();\n    }, 500);\n\n\n\n    var objs = this.fabricCanvas.getObjects().map(function (o) {\n      return o.set('active', true);\n    });\n    console.log(\"all objs\", objs)\n    // this.fabricCanvas.clear();\n    // let fabRect =  new fabric.Rect({\n    //   type:'Rect',\n    //   left:345.9638005503369,\n    //   top:374.0371352208498,\n    //   width:200,\n    //   height:300,\n    //   fill:'',\n    //   stroke:'blue',\n    //   strokeWidth:5,\n    //   angle:this.rotateValue\n    // });\n    // this.fabricCanvas.add(fabRect);\n\n    // this.fabricCanvas.renderAll();\n\n\n    // let posNewCenter = fabric.util.rotatePoint(\n    //   new fabric.Point(3.279277730334943,2.952911082815316),\n    //   this.fabricCanvas.getVpCenter(),\n    //   fabric.util.degreesToRadians(this.rotateValue)\n    // )\n    //(178.5,234)\n\n    let posNewCenter = fabric.util.rotatePoint(new fabric.Point(3.279277730334943, 2.952911082815316), new fabric.Point(358.8560208105469, 551.8799423217773), fabric.util.degreesToRadians(this.rotateValue))\n    console.log('rect xy', posNewCenter, this.fabricCanvas.getVpCenter())\n    // console.log('center', this.fabricCanvas.getVpCenter(), new fabric.Point(3.279277730334943,2.952911082815316))\n    console.log(\"osgetContentSized##\", this.viewer.world.getItemAt(0).getContentSize())\n    console.log(\"bounds##\", this.viewer.world.getItemAt(0).getBounds())\n    console.log('tile det', this.viewer.world.getItemAt(0))\n    let bounds = this.viewer.world.getItemAt(0).getBounds()\n    console.log('bounds', bounds)\n    //let check=  this.viewer.viewport.imageToViewportCoordinates(bounds.x, bounds.y)\n    //console.log('count', this.viewer.world.getItemCount(), check)\n\n    let tiledImage = this.viewer.world.getItemAt(0)\n    let box = tiledImage.getBounds(true)\n    console.log(box)\n\n    //var viewportCenter = this.viewer.viewport.getCenter();\n    //var imageCenter = this.viewer.viewport.viewportToImageCoordinates(viewportCenter.x, viewportCenter.y);\n    // console.log('center', imageCenter)\n    //console.log('size', this.viewer.world.getSize())\n    // var box = new OpenSeadragon.Rect(0.25, 0.25, 0.5, 0.5);\n    // this.viewer.viewport.fitBounds(box, true);\n    //   rect.set({\n    //     left: posNewCenter.x,\n    //     top: posNewCenter.y,\n    //     angle: this.value\n    // });\n    // this.shapeData.set({\n    //        left: posNewCenter.x,\n    //     top: posNewCenter.y,\n    //     angle: this.rotateValue\n    // });\n\n\n    /* this.fabricCanvas.clear();\n     let fabRect =  new fabric.Rect({\n         type:'Rect',\n         left:posNewCenter.x,\n         top: posNewCenter.y,\n         width:186.91883062909196,\n         height:224.7503914033589,\n         fill:'',\n         stroke:'red',\n         strokeWidth:5,\n         angle:this.rotateValue\n    });\n   this.fabricCanvas.add(fabRect);\n  \n   this.fabricCanvas.renderAll();*/\n\n    console.log('alla', this.shapeData)\n\n  }\n\n  resetRotation() {\n    this.viewer.world.getItemAt(0).setRotation(0, true);\n    this.viewer.world.getItemAt(1).setRotation(0, true);\n    this.rotateValue = 0;\n    //this.subscribeShape();\n    console.log('fab', this.fabricCanvas.getObjects())\n\n    /* var group = new fabric.Group(this.fabricCanvas.getObjects());\n \n                 group.rotate(90);\n \n                 this.fabricCanvas.centerObject(group);\n                 group.setCoords();\n                 this.fabricCanvas.renderAll();*/\n  }\n\n  rotateShape() {\n    var group = new fabric.Group(this.fabricCanvas.getObjects(), {\n      width: 600,\n      height: 750,\n      top: 100,\n      left: 400,\n      originX: 'center',\n      originY: 'center',\n      angle: 90\n    });\n    //  group.rotate(90);\n    //  this.fabricCanvas.centerObject(group);\n    group.setCoords();\n    group.remove();\n    this.fabricCanvas.renderAll();\n  }\n\n  //pathCreated\n  createPath(data: any) {\n    let path\n    console.log('final path', this.fabricCanvas.freeDrawingBrush._points)\n    this.shapeData.path = this.fabricCanvas.freeDrawingBrush._points\n    this.fabricCanvas.on('path:created', function (opt) {\n      // opt.path is a fabric.Path ready to use and already on the canvas\n      console.log(\"path createeeeeee\", data)\n      console.log(\"path createeeeeee\", this, opt.path instanceof fabric.Path, opt)\n      console.log(opt.path.path);\n      if (opt.path.path) {\n        // this.shapeData.set({path:opt.path.path})\n      }\n      path = opt.path.path\n      console.log(opt.path.path.map(chunk => {\n        return chunk.join(' ');\n      }).join(' '))\n      // return opt.path.path\n    })\n\n\n  }\n\n  newCoordinate() {\n    let x = 350.88271714583925;\n    let y = 300.21402647309986;\n    let x1 = 10, x2 = 50, y1 = 40, y2 = 70\n    let deltaX = x2 - x1;\n    let deltaY = y2 - y1;\n    let deg = Math.atan2(deltaY, deltaX) * 180.0 / Math.PI;\n    console.log('new cor', deg)\n    let m = x * Math.sin(90); let n = y * Math.cos(90)\n    console.log(\"test co\", m, n)\n    // this.createRectangleShape(m,n,  42.6306104943543, 42.65335895246227, 'blue', 0)\n    this.createRectangleShape(300.2140264731, -350.88271714584, 42.65335895246227, 42.65335895246227, 'blue', 0)\n  }\n\n\n\n\n\n  //Handler\n  testClick() {\n    this.viewer.addHandler('canvas-click', this.osdAction, { service: this, handler: this.osdAction });\n  }\n\n  osdAction(event) {\n    console.log('canvas click event, event', event)\n  }\n\n}\n","<div class=\"container-fluid\">\n  <div class=\"row\">\n    <mat-toolbar>\n      <button mat-icon-button color=\"primary\" matTooltip=\"Rectangle\" (click)=\"drawShape('Rectangle')\">\n        <fa-icon [icon]=\"faVectorSquare\"></fa-icon>\n      </button>\n      <!-- <button mat-icon-button  color=\"primary\"  matTooltip=\"Circle\" (click)=\"drawShape('Circle')\">\n                <fa-icon [icon]=\"faCircle\"></fa-icon>\n              </button> -->\n      <button mat-icon-button color=\"primary\" matTooltip=\"Poly Line\" (click)=\"drawShape('PolyLine')\">\n        <fa-icon [icon]=\"faDrawPolygon\"></fa-icon>\n      </button>\n      <button mat-icon-button color=\"primary\" matTooltip=\"Line Arrow\" (click)=\"drawShape('LineArrow')\">\n        <fa-icon [icon]=\"faArrowRight\"></fa-icon>\n      </button>\n      <button mat-icon-button color=\"primary\" matTooltip=\"Text\" (click)=\"drawShape('Text')\">\n        <fa-icon [icon]=\"faTextHeight\"></fa-icon>\n      </button>\n      <button mat-icon-button color=\"primary\" matTooltip=\"Free Hand\" (click)=\"drawShape('pencil')\">\n        <fa-icon [icon]=\"faPencilAlt\"></fa-icon>\n      </button>\n      <button mat-icon-button color=\"primary\" matTooltip=\"Free Hand\" (click)=\"drawShape('pencilBrush')\">\n        FREE\n      </button>\n      <!-- <button mat-icon-button  color=\"primary\"  matTooltip=\"Text\" (click)=\"edit($event)\">\n                EDIT\n              </button> -->\n    </mat-toolbar>\n  </div>\n  <div class=\"row\">\n    <div class=\"col\">\n      two\n      <div [formGroup]=\"shapesGroup\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Stroke Color (Default color is RED)</mat-label>\n          <mat-select formControlName=\"customColor\" (selectionChange)=\"selectStrokeColor($event)\">\n            <mat-option value=\"red\">Red</mat-option>\n            <mat-option value=\"green\">Green</mat-option>\n            <mat-option value=\"blue\">Blue</mat-option>\n            <mat-option value=\"black\">Black</mat-option>\n            <mat-option value=\"#ADFF2F\">GreenYellow</mat-option>\n            <mat-option value=\"orangered\">OrangeRed</mat-option>\n            <mat-option value=\"blueviolet\">BlueViolet</mat-option>\n            <mat-option value=\"white\">White</mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n      <button mat-icon-button class=\"tile\" color=\"primary \" matTooltip=\"Tile 1\" (click)=\"selectTile(0)\">\n        Select Tile 1\n      </button>\n      <button mat-icon-button class=\"tile\" color=\"primary\" matTooltip=\"Tile 2\" (click)=\"selectTile(1)\">\n        Select Tile 2\n      </button>\n      <button mat-icon-button class=\"tile\" color=\"primary\" matTooltip=\"Reset\" (click)=\"resetRotation()\">\n        Reset Tile\n      </button>\n      <button mat-icon-button class=\"tile\" color=\"primary\" matTooltip=\"Remove shape\" (click)=\"rotateShape()\">\n        ROTATE\n      </button>\n      <button mat-icon-button class=\"tile\" color=\"primary\" matTooltip=\"Remove shape\" (click)=\"newCoordinate()\">\n        New cordinate\n      </button>\n      <div>\n        <mat-label>Tile Rotate : {{rotateValue}}</mat-label><br />\n        <mat-slider class=\"example-margin\" [disabled]=\"sliderDisabled\" [max]=\"rotateMax\" [min]=\"rotateMin\"\n          [step]=\"rotateStep\" [(ngModel)]=\"rotateValue\" (click)=\"rotateSlider()\" [vertical]=\"sliderVertical\">\n        </mat-slider>\n      </div>\n    </div>\n\n    <div class=\"col-6 justify-content-md-center\">\n      <!-- (mousedown)=\"osdMouseDown($event)\" (mouseup)=\"osdMouseUp($event)\" -->\n      <div id=\"openseadragon-holder\" style=\"width: 750px; height: 600px;\" (click)=\"clk($event)\"\n        (click)=\"osdMouseClick($event)\" (dblclick)=\"osdMouseDoubleClick($event)\" (mousemove)=\"osdMouseMove($event)\"\n        (mousedown)=\"osdMouseDown($event)\" (mouseup)=\"osdMouseUp($event)\">\n      </div>\n      <!-- <canvas id=\"freeDraw\" style=\"width: 750px; height: 600px;\"></canvas> -->\n      <!-- <div id=\"openseadragon-holder1\" style=\"width: 750px; height: 600px;\"> \n            </div> -->\n    </div>\n\n    <div class=\"col\">\n      <div *ngIf=\"getData\">dasfa {{getData.length}}</div>\n\n\n      <div *ngIf=\"getData\">\n        <div class=\"detail\" *ngIf=\"getData.length >= 1\">\n          <mat-card>\n            <mat-list *ngFor=\"let data of getData; index as i\">\n              <mat-list-item (click)=\"selectItem(getData[i], i)\">\n                <span> {{i}}</span>\n                <span *ngIf=\"getData[i].type === 'Rect'\">\n                  <fa-icon [icon]=\"faVectorSquare\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <span *ngIf=\"getData[i].type === 'circle'\">\n                  <fa-icon [icon]=\"faCircle\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <span *ngIf=\"getData[i].type === 'polyline'\">\n                  <fa-icon [icon]=\"faDrawPolygon\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <span *ngIf=\"getData[i].type === 'arrow'\">\n                  <fa-icon [icon]=\"faArrowRight\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <span *ngIf=\"getData[i].type === 'i-text'\">\n                  <fa-icon [icon]=\"faTextHeight\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <span *ngIf=\"getData[i].type === 'pencil'\">\n                  <fa-icon [icon]=\"faPencilAlt\" [style.color]=getData[i].stroke></fa-icon>\n                </span>\n                <ul>\n                  <!-- <li>shape Index : {{getData[i].id}}</li> -->\n                  <li>shape ID : {{getData[i].sid}}</li>\n                  <li>Type : {{getData[i].type}}</li>\n                </ul>\n                <button mat-icon-button class=\"del\" color=\"primary\" matTooltip=\"Remove shape\"\n                  (click)=\"delete(getData[i].id, i)\">\n                  <fa-icon [icon]=\"faTrashAlt\" style=\"color: red;\"></fa-icon>\n                </button>\n\n\n              </mat-list-item>\n              <mat-divider></mat-divider>\n            </mat-list>\n          </mat-card>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}